apply plugin: 'java'

sourceCompatibility = 1.8
targetCompatibility = 1.8

configurations.all {
  resolutionStrategy {
    eachDependency { DependencyResolveDetails details ->
      if (details.requested.group in ['com.fasterxml.jackson.core', 'com.fasterxml.jackson.module', 'com.fasterxml.jackson.datatype']) {
        details.useVersion '2.12.2'
      }

      if (details.requested.name == 'jackson-databind') {
        details.useVersion '2.12.2'
      }
    }
  }
}

dependencies {
  implementation group: 'com.github.hmcts.java-logging', name: 'logging', version: reformLogging

  implementation group: 'com.google.guava', name: 'guava', version: '30.0-jre'

  implementation group: 'com.mitchellbosecke', name: 'pebble', version: '2.4.0'

  implementation group: 'org.xhtmlrenderer', name: 'flying-saucer-core', version: flyingSaucer
  implementation group: 'org.xhtmlrenderer', name: 'flying-saucer-pdf', version: flyingSaucer, {
    exclude group: 'com.lowagie'
    exclude group: 'org.bouncycastle'
  }
  implementation group: 'com.github.librepdf', name: 'openpdf', version: openPdf

  testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: junit
  testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-params', version: junit
  testRuntimeOnly group: 'org.junit.jupiter', name: 'junit-jupiter-engine', version: junit

  testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test', version: '2.3.4.RELEASE'
}
